Performance improvements for `all` type priority scorer